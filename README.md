这两周学习内容

任务一：

1、开发环境搭建：已完成。

2、C语言工程管理：理清了头文件（.h）声明与源文件（.c）定义的对应关系，理解了利用宏定义#define进行硬件引脚映射和参数配置的意义。

3、指针与结构体：深入理解了结构体在封装多维数据中的作用，并学习了通过指针函数进行内存地址传递的机制。
    产出：编写并验证了RobotState结构体修改程序（见RoboState.c）

4、MCU关键机制：
    定时器与通信：基本定时器（仅计数/触发ADC），通用/高级定时器（输出PWM驱动电机）。UART（异步，常用于调试/接蓝牙），I2C（两线制，接小传感器），SPI（高速，接IMU或OLED显示屏）。
    中断管理（NVIC）：深入理解了中断优先级分组（抢占优先级与响应优先级）的概念。在外骨骼场景下，可考虑将电机急停、限位触发等设为最高抢占优先级，确保控制指令的绝对实时性。
    DMA机制：掌握了“搬运工”模式，通过配置外设到内存的数据传输通道，实现串口数据接收与传感器采集不占用CPU周期，为高频控制算法预留充足算力。

5、电路元件：
    二极管：单向导通/续流。重点学习了肖特基二极管在H桥驱动电路中的续流作用，防止电机停转瞬间产生的反向感应电动势击穿MOSFET。
    电容：区分了电解电容（大容量，用于电源输入端的储能滤波，抑制电压跌落）与瓷片电容（小电感，用于单片机引脚附近的去耦，滤除高频噪声）。

6、机械传动原理：了解了如何通过改变连杆长度比例来调节机械增益（力矩放大）；学习了将减速电机的角位移通过连杆映射为人体髋/膝关节转角的几何关系，并初步接触了瞬时中心的概念，用于分析外骨骼与人体关节的运动匹配度。

7、宏观选型指标：
    动力元件：关注额定扭矩（能否支撑人体重量）与功率密度（外骨骼减重需求），对比了无刷电机（BLDC）与准直驱（MIT方案）的优劣。
    传感器：重点评估IMU（惯性测量单元）的零偏稳定性与编码器的单圈分辨率（影响角度控制精度）。
    控制核心：评估主频（算力能否支撑复杂滤波算法）、硬件浮点运算单元（FPU）以及丰富的定时器资源。

8、Arduino实践：在Arduino IDE平台上编写程序，实现了粗略的避障小车项目。


任务二：

1、CAN总线与电机控制：
    协议理解：利用江科大的B站视频，深入学习了CAN通信协议，包括CAN的差分信号原理及其抗干扰特性，以及标准帧ID（11位）在多节点通信中的优先级仲裁机制。
    电机驱动：针对C610/C620电调（对应2006/3508电机），掌握了其特有的通信协议：反馈控制【通过ID（0x201~0x208）回传转子位置、转速及电流信息】、指令下发【控制帧ID（如0x200）的数据填充格式以及如何将电流控制量拆分为两个位数据8进行发送】。

2、数据透传：通过DMA将串口数据直接搬运至内存缓冲区，并在检测到总线空闲（IDLE）时触发中断处理，极大降低了CPU处理高频数据包时的负荷，保证了数据透传的实时性，实现了不定长数据包的自动接收。

3、PWM呼吸灯：通过配置定时器的计数器周期（Period）与比较值（Pulse），实现占空比对LED平均电压的调节作用；在STM32CubeMX生成的HAL库基础上，编写了非阻塞式的占空比自动增减逻辑，实现了平滑的呼吸效果；在串口解析逻辑中加入了开关指令，实现了“上位机指令控制底层硬件执行”的初步闭环应用。

4、EDA环境搭建：已完成。

5、载流与线宽规范：深入了解了PCB线宽与电流的关系；理解了温升、铜厚对电流承载能力的影响。思考：在外骨骼大电流路径（如电机驱动电源线）中，必须加宽走线或进行开窗塞锡，以防止大电流烧毁线束。

6、了解了STM32F407ZGT6的主要寄存器与引脚定义；新建F4系列的Keil5工程（标准库），并完成闪灯操作。

7、学习HAL库的主要函数，用STM32CubeMX完成配置并新建F4系列工程（HAL库），并完成闪灯操作。

ps：由于未将嵌入式工具箱带回家，无法实操，所以暂时无法提供实物视频（）
